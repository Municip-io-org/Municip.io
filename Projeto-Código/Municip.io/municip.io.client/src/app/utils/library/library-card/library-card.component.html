

<ng-container *ngIf="isRemoveBookWarningDialogOpen">
  <app-dialog-message title="Atenção!" message="O livro encontra-se com uma requisição ativa. Proceder remoção?"
                      [twoButtons]="true" (confirm)="deleteCurrent({book})" (cancel)="closeRemoveBookWarningDialog()"
                      [isConfirm]="false"></app-dialog-message>
</ng-container>

<div class="border-[0.2rem] border-municip-blue rounded-[1rem]">
  <div class="relative flex flex-col font-roboto justify-center items-center text-left gap-x-2 max-w-[18rem] h-[28rem] text-[1.063rem] bg-white p-7 rounded-[1rem]">

    <div class="absolute -top-3 -left-3 " *ngIf="isMunAdmin">
      <app-black-btn-icon-text altImage="Editar Livro"
                               image="/assets/images/icons/pencil-white.png"
                               (click)="editCurrent(this)">
        Editar
      </app-black-btn-icon-text>
    </div>

    <div class="absolute -top-3 -right-3" *ngIf="isMunAdmin">
      <app-black-btn-icon-text [justImage]="true"
                               altImage="Remover Livro"
                               image="/assets/images/icons/delete-white.png"
                               (click)="canRemoveBook(this)">
      </app-black-btn-icon-text>
    </div>
    <div class="h-[18rem] w-48 cursor-pointer" (click)="bookClicked()">
      <img src="{{book.coverImage}}" alt="Foto do Livro" class="object-cover w-full h-full rounded-3xl" />
    </div>

    <section class="flex flex-col text-municip-highlight-black cursor-pointer" (click)="bookClicked()">
      <div class="text-container w-[16rem]">

        <p class="font-bold text-center text-[1.7rem] text-nowrap h-10 w-15 text-ellipsis overflow-hidden">
          {{ book.title }}
        </p>

        <div class=" text-center text-nowrap text-ellipsis overflow-hidden">
          <ng-container *ngFor="let author of book.author; let last = last" class="flex justify-center">
            <span>{{ author }}</span>
            <span *ngIf="!last">, </span>
          </ng-container>
        </div>
      </div>

      <div *ngIf="book.availableCopies != 0" class="flex justify-center rounded-md bg-opacity-35 {{ getStatusClass() }}">
        <p class="font-inter font-semibold">{{ getStatusString(this.book.status) }}</p>
      </div>
      <div *ngIf="book.availableCopies == 0" class="flex justify-center rounded-md bg-opacity-35 bg-[#FF0000] text-[#B02121]">
        <p class="font-inter font-semibold">Indisponível</p>
      </div>
    </section>



  </div>
</div>
